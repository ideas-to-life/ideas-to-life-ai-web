---
import type { CollectionEntry } from 'astro:content';

interface Props {
  learning: CollectionEntry<'learnings'>;
}

const { learning } = Astro.props;

const date = learning.data.date || new Date();
const formattedDate = date.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<a href={`/learnings/${learning.slug}`} class="block h-full group">
  <div class="glass p-8 rounded-[2rem] h-full flex flex-col transition-all duration-300 hover:-translate-y-1 hover:bg-white/10">
    <div class="flex items-center justify-between mb-6">
      <span class="text-white/40 text-sm font-mono">{formattedDate}</span>
      {learning.data.tags && (
        <div class="flex gap-2">
          {learning.data.tags.slice(0, 2).map(tag => (
            <span class="text-xs px-2 py-1 bg-white/5 rounded-full text-white/60 border border-white/5 uppercase tracking-wider">
              {tag}
            </span>
          ))}
        </div>
      )}
    </div>
    
    <div class="space-y-4 flex-1">
      <h3 class="font-display text-2xl font-bold leading-tight group-hover:text-accent-blue transition-colors">
        {learning.data.title}
      </h3>
      <p class="text-white/60 text-sm leading-relaxed line-clamp-3">
        {learning.data.summary}
      </p>
    </div>

    <div class="mt-8 flex items-center text-accent-blue text-sm font-bold tracking-wider uppercase opacity-0 -translate-x-4 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300">
      Read Learning <span class="ml-2">â†’</span>
    </div>
  </div>
</a>
